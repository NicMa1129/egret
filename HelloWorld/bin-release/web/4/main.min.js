var BreathImage=function(e){function t(t,i,n){void 0===i&&(i=2e3),void 0===n&&(n=.05),e.call(this,t),this._duration=i,this._offset=n,this.init()}__extends(t,e);var i=__define,n=t,o=n.prototype;return o.init=function(){this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2},o.play=function(){this.t=0,egret.Tween.get(this,{loop:!0}).to({t:2*Math.PI},this._duration)},i(o,"t",function(){return this._t},function(e){this._t=e,this.scaleX=Math.sin(e)*this._offset+1,this.scaleY=Math.sin(e-Math.PI/2)*this._offset+1}),t}(egret.Bitmap);egret.registerClass(BreathImage,"BreathImage");var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),n=i.prototype;return n.createView=function(){this.backimg=this.createBitmapByName("bg"),this.backimg.x=0,this.backimg.y=0,this.addChild(this.backimg)},n.setProgress=function(e,t){},n.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.mainHeight=this.width,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},n.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},n.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},n.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},n.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},n.createGameScene=function(){console.log("Hellow World");var e=this.createBitmapByName("bg");e.x=0,e.y=0,this.addChild(e),console.log("backimg index = "+this.getChildIndex(e));var t=this.createBitmapByName("button");t.x=187,t.y=770,t.name="button",this.addChildAt(t,3),console.log("button index = "+this.getChildIndex(t));var i=this.createBitmapByName("logo"),n=new egret.Sprite;n.x=13,n.y=17,n.name="logoSprite",n.addChild(i),this.addChildAt(n,2),console.log("logoSpirte index = "+this.getChildIndex(n));var o=this.createBitmapByName("tv");o.x=0,o.y=56,this.addChildAt(o,1),console.log("tv index = "+this.getChildIndex(o));var s=this.createBitmapByName("content_png");s.x=-344,s.y=187,this.addChildAt(s,3),console.log("content index = "+this.getChildIndex(s)),egret.Tween.get(s).to({x:86,y:187},500,egret.Ease.sineIn),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClick,this),RES.getResAsync("description_json",this.startAnimation,this)},n.onClick=function(e){},n.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},n.startAnimation=function(e){},n.changeDescription=function(e,t){e.textFlow=t},t.STEP_ROT=10,t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");